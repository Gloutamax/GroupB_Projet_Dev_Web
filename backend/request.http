# PARTIE 1 : Tests route materiels avec un utilsiateur en rôle USER
## Récupérer tous les matériaux
GET http://localhost:3000/materiels
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

### Créer un matériel valide
POST http://localhost:3000/materiels
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

{
  "name": "Ecran 4K",
  "description": "Ecran ultra haute définition 27 pouces",
  "status": "available"
}

### Créer un matériel invalide (422) 
POST http://localhost:3000/materiels
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

{
  "title": "oops",
  "email": "not-expected@example.com"
}

### Récupérer un matériel par ID
GET http://localhost:3000/materiels/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

### Modifier un matériel (PATCH)
PATCH http://localhost:3000/materiels/2
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

{
  "status": "maintenance"
}

### Supprimer un matériel
DELETE http://localhost:3000/materiels/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwidXNlcm5hbWUiOiJuZXd1c2VyIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE3NjU1Njc4NzF9.7jNjUxlgWi2rmNU0HB0-h7jy_ehOWbPqIdaQkZLhzW8

###
# PARTIE 2 : Test route users avec le rôle ADMIN
GET http://localhost:3000/materiels
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

###
POST http://localhost:3000/materiels
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

{
  "name": "Ecran 4K",
  "description": "Ecran ultra haute définition 27 pouces",
  "status": "available"
}

###
# Matériel invalide (422)
POST http://localhost:3000/materiels
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

{
  "title": "oops",
  "email": "not-expected@example.com"
}

### Récupérer un matériel par ID
GET http://localhost:3000/materiels/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

### Modifier un matériel (PATCH)
PATCH http://localhost:3000/materiels/3
# Tentative de mise à jour d'un autre utilisateur (interdit pour les USER => 403 Forbidden) 
PATCH http://localhost:3000/users/3
Content-Type: application/Json
Authorization : Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpYXQiOjE3NjQ4NDI5NDh9.IrKRw_ScFsLZj1TcHgEsE4BXH0Ca3AM2nJdRWWx53QY

{ 
    "username": "otheruser",
    "email": "otheruser@example.com"
}

###
# Test de la route delete pour supprimer un utilisateur par ID
DELETE http://localhost:3000/users/1

###
GET http://localhost:3000/reservations

###
POST http://localhost:3000/reservations
Content-Type: application/json

{
    "userId": 5,
    //"materielId": 2,
    "title": "Reservation Test",
    "description": "This is a test reservation",
    "startDate": "2025-12-05T10:00:00Z",
    "endDate": "2025-12-05T10:00:00Z"
}

###
PATCH http://localhost:3000/reservations/10
Content-Type: application/json

{
    "title": "Updated Reservation Test",
    "description": "This is an updated test reservation"
}

###
DELETE http://localhost:3000/reservations/10
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpYXQiOjE3NjQ4NDI5NDh9.IrKRw_ScFsLZj1TcHgEsE4BXH0Ca3AM2nJdRWWx53QY

###
# Tentative de suppression d'un autre utilisateur (interdit pour les USER => 403 Forbidden)
DELETE http://localhost:3000/users/3
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJpYXQiOjE3NjQ4NDI5NDh9.IrKRw_ScFsLZj1TcHgEsE4BXH0Ca3AM2nJdRWWx53QY

###
# Inscription publique (sans authentification)
POST http://localhost:3000/signup
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

{
  "status": "available"
}

### Supprimer un matériel
DELETE http://localhost:3000/materiels/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJpYXQiOjE3NjQ4MzQ0MTZ9.wco0V_1HIutz2DtVGECitB8ehMgGDgiAJ9qsNxAr_3w

###
POST http://localhost:3000/login
Content-Type: application/json

{
    "email": "newuser@example.com",
    "password": "SecurePass123!"
}

###

# Tentative d'inscription en tant qu'admin (le rôle sera ignoré et forcé à USER)
POST http://localhost:3000/signup
Content-Type: application/json

{
    "username": "hacker",
    "email": "hacker@example.com",
    "password": "HackPass123!",
    "role": "ADMIN"
}

###
POST http://localhost:3000/login
Content-Type: application/json

{
    "email": "hacker@example.com",
    "password": "HackPass123!"
}

###
# Vérifier que l'utilisateur "hacker" n'a pas les droits d'admin
GET http://localhost:3000/users
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNywiaWF0IjoxNzY1MTM1NjUyfQ.6mzOWDJCmpyy1-nv8J_HpyL343pH18zpaXtKSKX3p-4
